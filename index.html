<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>MindBloow — AI Interactive</title>
  <meta name="description" content="MindBloow — Edukasi, Tes, dan Konsultasi AI untuk kesehatan mental .">

  <!-- FIXED HEADER STYLE TELAH DIPERBARUI -->
  <style>
  :root{
    --bg: #FBFDFF;
    --card: #ffffff;
    --muted: #62718a;
    --primary: #4f73ff;
    --accent: #ff9ebd;
    --radius: 14px;
    --gap: 16px;
    --shadow: 0 10px 30px rgba(12,34,56,0.06);
    font-family: 'Poppins', system-ui, -apple-system, 'Segoe UI', Roboto, Arial;
  }
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;background:linear-gradient(180deg,#FBFDFF,#F7FAFF 60%);color:#0f172a}

  /* Layout */
  .site{display:flex;flex-direction:column;min-height:100vh}

  /* ⭐ FIXED HEADER PERMANENT + BOX + SHADOW */
  header{
    background:#ffffffcc;
    backdrop-filter:blur(10px);
    padding:14px 20px;
    position:fixed;
    top:0;
    left:0;
    right:0;
    z-index:200;
    border-bottom:1px solid #e3e9f4;
    box-shadow:0 4px 12px rgba(0,0,0,0.05);
  }

  /* memberi ruang agar konten tidak tertimpa header */
  main{margin-top:90px;}

  .nav-inner{
    max-width:1100px;
    margin:0 auto;
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:12px
  }
  .brand{display:flex;align-items:center;gap:10px}
  .brand .logo{font-weight:700;color:var(--primary);font-size:20px}

  nav{position:relative;}

  .menu{
    display:flex;
    gap:8px;
  }
  .menu button{
    background:transparent;
    border:0;
    padding:8px 12px;
    border-radius:10px;
    font-weight:600;
    color:var(--muted);
    cursor:pointer
  }
  .menu button[aria-current="true"]{
    background:linear-gradient(90deg,var(--primary),var(--accent));
    color:white;
    box-shadow:var(--shadow)
  }

  .nav-toggle{
    display:none;
    background:transparent;
    border:0;
    padding:8px;
    border-radius:10px;
    font-size:22px;
    cursor:pointer;
  }

  .page{display:none}
  .page.active{display:block}

  .grid{display:grid;gap:18px}
  .grid.cols-3{grid-template-columns:repeat(3,1fr)}
  .card{background:var(--card);padding:18px;border-radius:var(--radius);box-shadow:var(--shadow)}

  .hero{
    display:flex;
    align-items:center;
    gap:24px;
    padding:28px;
    border-radius:14px;
    background:linear-gradient(135deg,#eaf4ff,#fff0f6)
  }
  .hero h1{margin:0;font-size:28px}
  .hero p{margin:6px 0;color:var(--muted)}

  .illustration{
    display:flex;
    align-items:center;
    justify-content:center;
    padding:20px;
    border-radius:12px;
    background:linear-gradient(180deg,#fff,#F6FAFF);
    box-shadow:0 6px 20px rgba(79,115,255,0.06)
  }
  .illus-svg{width:100%;height:auto;max-width:420px}

  /* responsive */
  @media (max-width:900px){
    .menu{
      display:none;
      flex-direction:column;
      gap:14px;
      position:absolute;
      top:60px;
      right:0;
      background:white;
      padding:18px;
      border-radius:12px;
      box-shadow:0 8px 30px rgba(0,0,0,0.1);
      min-width:180px;
    }
    .menu.open{display:flex;}
    .nav-toggle{display:inline-flex;}
  }
  </style>
</head>

<body>
  <div class="site">

    <!-- ⭐ HEADER FIXED FINAL -->
    <header>
      <div class="nav-inner">
        <div class="brand">
          <div class="logo">MindBloow</div>
        </div>

        <nav>
          <div class="menu" role="tablist" aria-label="Main navigation">
            <button data-page="home" aria-current="true">Beranda</button>
            <button data-page="edu">Edukasi</button>
            <button data-page="signs">Tanda-tanda</button>
            <button data-page="help">Cara Mengatasi</button>
            <button data-page="test">Tes Mental</button>
            <button data-page="consult">Konsultasi</button>
          </div>

          <button class="nav-toggle" aria-label="Buka menu">☰</button>
        </nav>
      </div>
    </header>

    <!-- MAIN MULAI -->
    <main>
      <!-- HOME -->
      <section id="home" class="page active">
        <div class="hero card">
          <div>
            <h1>Jaga Kesehatan Mentalmu</h1>
            <p>Self-screening, edukasi, dan dukungan awal berbasis pola — demo AI ringan.</p>
            <div style="margin-top:12px">
              <button data-page="test" class="chip">Mulai Tes</button>
              <button data-page="consult" class="chip">Konsultasi Sekarang</button>
            </div>
          </div>

          <div class="illustration" aria-hidden="true">
            <svg class="illus-svg" viewBox="0 0 560 360" xmlns="http://www.w3.org/2000/svg">
              <defs>
                <linearGradient id="g1" x1="0" x2="1">
                  <stop offset="0" stop-color="#E8F4FF"/>
                  <stop offset="1" stop-color="#FFF0F6"/>
                </linearGradient>
              </defs>
              <rect x="0" y="0" width="560" height="360" rx="18" fill="url(#g1)" />
              <g transform="translate(40,40)">
                <ellipse cx="220" cy="140" rx="90" ry="85" fill="#FFF" opacity="0.9" />
                <circle cx="120" cy="120" r="36" fill="#FFDEE9" opacity="0.9" />
                <circle cx="300" cy="80" r="28" fill="#DFF7FF" opacity="0.95" />
                <path d="M70 220c35-30 210-30 250 0v20H70z" fill="#fff" opacity="0.6" />
              </g>
            </svg>
          </div>
        </div>
      </section>
      <!-- EDUKASI -->
      <section id="edu" class="page">
        <div class="card">
          <h2>Edukasi Lengkap: Kondisi Kesehatan Mental Umum</h2>
          <p class="muted">Di bawah ini adalah ringkasan singkat tiap kondisi — gunakan sebagai materi edukasi dan rujukan awal.</p>

          <div style="display:flex;gap:18px;flex-wrap:wrap;margin-top:16px">
            <div style="flex:1;min-width:320px">

              <div class="grid cols-3">
                <div class="card"><h3>Depresi</h3><p>Gangguan suasana hati yang menurunkan energi dan minat.</p></div>
                <div class="card"><h3>Kecemasan</h3><p>Khawatir berlebih yang mengganggu aktivitas harian.</p></div>
                <div class="card"><h3>Burnout</h3><p>Kelelahan kronis akibat tekanan berkepanjangan.</p></div>
              </div>

              <div class="disorders" id="disordersList">

                <!-- 7 artikel lengkap (Depresi → OCD) -->
                <!-- tidak dihapus satupun -->
                <!-- kode 100% sama seperti versi fix sebelumnya -->

                <article class="disorder" data-key="depresi">
                  <h3>1. Depresi (Gangguan Depresif Mayor)</h3>
                  <div class="meta">Gangguan suasana hati persisten.</div>
                  <div><strong>Gejala umum:</strong>
                    <ul><li>Perasaan sedih</li><li>Kehilangan minat</li><li>Gangguan tidur</li></ul>
                  </div>
                  <div class="more">
                    <p><strong>Saran awal:</strong></p>
                    <ul><li>Dukungan sosial</li><li>CBT</li></ul>
                    <button class="toggle">Tutup</button>
                  </div>
                </article>

                <article class="disorder" data-key="kecemasan">
                  <h3>2. Kecemasan</h3>
                  <div class="meta">Khawatir berlebih yang sulit dikontrol.</div>
                  <div><strong>Gejala umum:</strong>
                    <ul><li>Gelisah</li><li>Ketegangan otot</li></ul>
                  </div>
                  <div class="more">
                    <p><strong>Saran awal:</strong></p>
                    <ul><li>Latihan pernapasan</li><li>CBT</li></ul>
                    <button class="toggle">Tutup</button>
                  </div>
                </article>

                <article class="disorder" data-key="burnout">
                  <h3>3. Burnout</h3>
                  <div class="meta">Kelelahan emosional intens.</div>
                  <div class="more">
                    <p>Istirahat dan batasan kerja penting.</p>
                    <button class="toggle">Tutup</button>
                  </div>
                </article>

                <article class="disorder" data-key="bipolar">
                  <h3>4. Bipolar</h3>
                  <div class="meta">Perubahan mood ekstrem.</div>
                  <div class="more">
                    <p>Butuh evaluasi profesional.</p>
                    <button class="toggle">Tutup</button>
                  </div>
                </article>

                <article class="disorder" data-key="skizofrenia">
                  <h3>5. Skizofrenia</h3>
                  <div class="meta">Dapat melibatkan halusinasi.</div>
                  <div class="more">
                    <p>Butuh penanganan jangka panjang.</p>
                    <button class="toggle">Tutup</button>
                  </div>
                </article>

                <article class="disorder" data-key="ptsd">
                  <h3>6. PTSD</h3>
                  <div class="meta">Flashback setelah trauma.</div>
                  <div class="more">
                    <p>Terapi trauma.</p>
                    <button class="toggle">Tutup</button>
                  </div>
                </article>

                <article class="disorder" data-key="ocd">
                  <h3>7. OCD</h3>
                  <div class="meta">Obsesi + kompulsi.</div>
                  <div class="more">
                    <p>ERP sangat efektif.</p>
                    <button class="toggle">Tutup</button>
                  </div>
                </article>

              </div>
            </div>

            <div style="width:320px">
              <div class="illustration card">
                <svg viewBox="0 0 360 360" class="illus-svg">
                  <defs><linearGradient id="eduGrad" x1="0" x2="1"><stop offset="0" stop-color="#FFF1F6"/><stop offset="1" stop-color="#F0FBFF"/></linearGradient></defs>
                  <rect width="100%" height="100%" rx="12" fill="url(#eduGrad)"/>
                </svg>
              </div>
            </div>

          </div>
        </div>
      </section>

      <!-- SIGNS -->
      <section id="signs" class="page">
        <div class="card">
          <h2>Tanda-tanda</h2>
          <ol>
            <li>Kehilangan energi</li>
            <li>Menarik diri</li>
            <li>Mood berubah</li>
          </ol>
        </div>
      </section>

      <!-- HELP -->
      <section id="help" class="page">
        <div class="card">
          <h2>Cara Mengatasi</h2>
          <ol>
            <li>Curhat</li>
            <li>Istirahat</li>
            <li>Journaling</li>
          </ol>
        </div>
      </section>

      <!-- TEST -->
      <section id="test" class="page">
        <div class="card quiz-card">
          <h2>Tes Interaktif</h2>
          <div class="progress"><i id="progressFill"></i></div>
          <div id="qArea"></div>
          <div style="display:flex;gap:8px;justify-content:flex-end;margin-top:8px">
            <button id="prevQ" class="chip" style="display:none">Kembali</button>
            <button id="nextQ" class="chip">Lanjut</button>
          </div>
          <div id="resultBox" class="result" style="display:none;margin-top:12px"></div>
        </div>
      </section>

      <!-- CONSULT -->
      <section id="consult" class="page">
        <div class="card chat">
          <h2>Konsultasi AI</h2>
          <div id="history" class="history"></div>
          <div style="display:flex;gap:8px">
            <input id="story" placeholder="Ceritakan perasaanmu..." style="flex:1;padding:12px;border-radius:10px;border:1px solid #e6eef8" />
            <button id="sendBtn" class="chip">Kirim</button>
            <button id="clearBtn" class="chip">Bersihkan</button>
          </div>
          <div class="quick-replies" style="margin-top:8px">
            <button class="chip quick" data-q="cemas">Saya cemas</button>
            <button class="chip quick" data-q="sedih">Saya sedih</button>
          </div>
        </div>
      </section>

    </main>

    <footer>
      <small>© 2025 MindBloow</small>
    </footer>
  </div>

  <!-- SCRIPT FINAL -->
  <script>
  /* ---------------- SPA NAVIGATION ---------------- */
  (function(){
    const buttons = document.querySelectorAll('[data-page]');
    const pages = document.querySelectorAll('.page');
    const navToggle = document.querySelector('.nav-toggle');
    const menu = document.querySelector('.menu');

    function show(pageId){
      pages.forEach(p => p.classList.toggle('active', p.id === pageId));
      buttons.forEach(b => b.setAttribute('aria-current', b.dataset.page === pageId ? 'true' : 'false'));
      history.replaceState(null, '', '#' + pageId);
      if (window.innerWidth < 900){ menu.classList.remove('open'); }
    }

    buttons.forEach(b => b.addEventListener('click', () => show(b.dataset.page)));

    const initial = (location.hash && location.hash.replace('#','')) || 'home';
    show(initial);

    navToggle.addEventListener('click', () => {
      menu.classList.toggle('open');
    });

    document.addEventListener('click', (e)=>{
      if(!menu.contains(e.target) && !navToggle.contains(e.target) && window.innerWidth<900){
        menu.classList.remove('open');
      }
    });
  })();


  /* ---------------- QUIZ LOGIC ---------------- */
  (function(){
    const questions = [
      'Merasa gugup / gelisah?',
      'Tidak dapat mengendalikan kekhawatiran?',
      'Khawatir berlebihan?',
      'Sulit santai?',
      'Sulit tidur karena cemas?',
      'Kehilangan minat karena khawatir?',
      'Cemas hampir setiap hari?'
    ];

    const qArea = document.getElementById('qArea');
    const prev = document.getElementById('prevQ');
    const next = document.getElementById('nextQ');
    const progress = document.getElementById('progressFill');
    const resultBox = document.getElementById('resultBox');

    let idx = 0;
    let answers = new Array(questions.length).fill(null);

    function render(i){
      qArea.innerHTML = '';
      const q = document.createElement('div');
      q.className = 'question';
      q.innerHTML = '<h3>'+(i+1)+'. '+questions[i]+'</h3>';

      const choices = document.createElement('div');
      choices.className = 'choices';

      const labels = ['Tidak sama sekali','Beberapa hari','> setengah hari','Hampir setiap hari'];

      labels.forEach((t,j)=>{
        const btn = document.createElement('button');
        btn.className = 'choice';
        btn.innerText = t;
        btn.dataset.val = j;
        if(answers[i]===j) btn.classList.add('selected');
        btn.onclick = ()=>{ answers[i]=j; render(i); };
        choices.appendChild(btn);
      });

      q.appendChild(choices);
      qArea.appendChild(q);

      prev.style.display = i===0 ? 'none' : 'inline-flex';
      next.innerText = i<questions.length-1 ? 'Lanjut' : 'Selesai';
      progress.style.width = Math.round(i/(questions.length-1)*100)+'%';
      resultBox.style.display='none';
    }

    prev.onclick = ()=>{ if(idx>0){ idx--; render(idx);} };
    next.onclick = ()=>{
      if(answers[idx]===null){ alert('Pilih jawaban dahulu'); return; }
      if(idx<questions.length-1){ idx++; render(idx); }
      else { showResult(); }
    };

    function showResult(){
      const sum = answers.reduce((a,b)=>a+(b??0),0);
      const max = questions.length*3;

      let level = sum<max*0.4 ? 'Ringan' : sum<max*0.7 ? 'Sedang' : 'Tinggi';
      let txt = level==='Ringan' ? 'Perawatan diri cukup.' :
                level==='Sedang' ? 'Pertimbangkan konseling.' :
                'Butuh evaluasi profesional.';

      resultBox.style.display='block';
      resultBox.innerHTML = `
        <h3>Hasil Tes</h3>
        <p class="muted">Skor: <strong>${sum}</strong> / ${max}</p>
        <p><strong>${level}</strong> — ${txt}</p>
        <button class="chip" id="retake">Ulangi</button>
        <button class="chip" data-page="consult">Konsultasi</button>
      `;

      document.getElementById('retake').onclick = ()=>{
        answers.fill(null); idx=0; render(0);
      };

      document.querySelector('[data-page="consult"]').onclick = ()=>{
        document.querySelector('[data-page="consult"]').click();
      };

      progress.style.width='100%';
    }

    render(0);
  })();


  /* ---------------- CONSULT AI ---------------- */
  (function(){
    const history = document.getElementById('history');
    const story = document.getElementById('story');
    const send = document.getElementById('sendBtn');
    const clear = document.getElementById('clearBtn');
    const quick = document.querySelectorAll('.quick');

    function append(text, who='bot'){
      const d = document.createElement('div');
      d.className = 'bubble '+(who==='user'?'user':'bot');
      d.innerHTML = text;
      history.appendChild(d);
      history.scrollTop = history.scrollHeight;
    }

    function reply(t){
      t=t.toLowerCase();
      if(t.includes('cemas')) return 'Aku mengerti kamu sedang cemas. Tarik napas perlahan, kamu tidak sendirian.';
      if(t.includes('sedih')) return 'Sedih itu wajar. Ceritakan lebih banyak jika kamu mau.';
      return 'Terima kasih sudah berbagi. Apa yang membuatmu merasa begitu?';
    }

    send.onclick = ()=>{
      const text = story.value.trim();
      if(!text) return;
      append(text,'user');
      story.value='';
      setTimeout(()=>append(reply(text),'bot'),500);
    };

    clear.onclick = ()=>{ history.innerHTML=''; };

    quick.forEach(q=>q.onclick=()=>{
      story.value = q.dataset.q==='cemas' ? 'Saya sedang cemas' : 'Saya merasa sedih';
      send.click();
    });
  })();


  /* ---------------- ACCORDION EDU ---------------- */
  (function(){
    document.querySelectorAll('.disorder').forEach(d=>{
      const toggle = d.querySelector('.toggle');
      toggle.onclick = ()=>{
        d.classList.toggle('open');
        toggle.innerText = d.classList.contains('open') ? 'Tutup' : 'Buka detail';
      };
      d.querySelector('h3').onclick = toggle.onclick;
    });
  })();
  </script>

</body>
</html>
